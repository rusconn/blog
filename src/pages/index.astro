---
import { getCollection } from "astro:content";

import PostsNav from "@/components/PostsNav.astro";
import Layout from "@/layout/Layout.astro";

const allPosts = await getCollection("posts");

const posts = allPosts
  .map(({ data: { date, title }, slug }) => ({ title, date, slug }))
  .sort((x, y) => y.date.getTime() - x.date.getTime());
---

<Layout>
  <PostsNav heading="すべての記事" {...{ posts }} />
</Layout>
