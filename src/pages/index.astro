---
import PostsNav from "@/components/PostsNav.astro";
import Layout from "@/layout/Layout.astro";
import type { PostFrontmatter } from "@/types";

const allPosts = await Astro.glob<PostFrontmatter>("/src/pages/posts/*.md");

const posts = allPosts
  .map(({ frontmatter, url }) => ({ ...frontmatter, href: url }))
  .sort((x, y) => Date.parse(y.date) - Date.parse(x.date));
---

<Layout>
  <PostsNav heading="すべての記事" {...{ posts }} />
</Layout>
